{% extends "vacancy/layout.html" %}
{% load static %}

{% block head_content %}
<title>Востребованность</title>
{% endblock %}

{% block content %}
    <h1>Аналитика зарплат по годам для профессии С/С++ разработчик</h1>
    <br>
    <img class='relevance_graph' src="{% static 'vacancy/img/relevance_dark.png' %}" alt="">
    <br>
    <h2>Статистика по годам</h2>
    <br>
    <table cellpadding="5" cellspacing="5" bgcolor="#104E44">
        <colgroup>
            <col style="width: 10%">
            <col style="width: 10%">
            <col style="width: 10%">
            <col style="width: 10%">
            <col style="width: 10">
        </colgroup>
        <tr>
            <th>Год</th>
            <th>Средняя зарплата</th>
            <th>Средняя зарплата - C/C++ программист</th>
            <th>Количество вакансий</th>
            <th>Количество вакансий - C/C++ программист</th>
        </tr>
        {% for year in statistics_by_years %}
            <tr>
                <td>
                    {{ year.published_at }}
                </td>
                <td>
                    {% if year.avg_salary %}
                        {{ year.avg_salary|floatformat:'0' }}
                    {% else %}
                        {{ "NA" }}
                    {% endif %}
                </td>
                <td>
                    {% if year.salary_by_profession_name %}
                        {{ year.salary_by_profession_name|floatformat:'0' }}
                    {% else %}
                        {{ "NA" }}
                    {% endif %}
                </td>
                <td>
                    {{ year.total_count }}
                </td>
                <td>
                    {{ year.count_by_profession_name }}
                </td>
            </tr>
        {% endfor %}
    </table>
{% endblock %}